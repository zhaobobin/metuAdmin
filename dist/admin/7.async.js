(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[7],{QftO:function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("+L6B");var r=l(a("2/Rp")),s=l(a("eHn4"));a("/xke");var u=l(a("TeRw")),n=l(a("p0pE")),i=l(a("2Taf")),o=l(a("vZ4D")),d=l(a("l4Ni")),c=l(a("ujKo")),f=l(a("MhPg"));a("y8nQ");var p,m,g,h,v=l(a("Vl3Y")),b=l(a("q1tI")),k=a("MuoO"),E=a("7DNP"),y=a("+n12"),w=a("kMXv"),x=l(a("w7VR")),F=l(a("mQyv")),C=l(a("lDmw")),_=l(a("FW5x")),M=l(a("SzxB")),T=l(a("eNSh")),j=v.default.Item,N=(p=(0,k.connect)(function(e){return{global:e.global}}),m=v.default.create(),p(g=m((h=function(e){function t(e){var a;return(0,i.default)(this,t),a=(0,d.default)(this,(0,c.default)(t).call(this,e)),a.resetForm=function(){a.props.form.resetFields()},a.mobileCallback=function(e,t){t?a.props.form.setFields({tel:{value:e,errors:[new Error(t)]}}):a.props.form.setFieldsValue({tel:e})},a.nicknameCallback=function(e){a.props.form.setFieldsValue({nickname:e}),a.props.form.validateFields(["nickname"],function(e,t){})},a.smscodeCallback=function(e,t){"telError"===t?a.props.form.setFields({tel:{value:"",errors:[new Error("\u8bf7\u8f93\u5165\u624b\u673a\u53f7")]}}):"clearError"===t?a.props.form.setFields({smscode:{value:"",errors:""}}):"smscodeError"===t?a.props.form.setFields({smscode:{value:"",errors:[new Error(e?"\u77ed\u4fe1\u9a8c\u8bc1\u7801\u683c\u5f0f\u6709\u8bef":"\u8bf7\u8f93\u5165\u77ed\u4fe1\u9a8c\u8bc1\u7801")]}}):a.props.form.setFieldsValue({smscode:e})},a.passwordCallback=function(e){a.props.form.setFieldsValue({password:e}),a.props.form.validateFields(["password"],function(e,t){})},a.xieyiCallback=function(e){a.props.form.setFieldsValue({xieyi:e})},a.submit=function(e){e.preventDefault(),a.ajaxFlag&&(a.ajaxFlag=!1,a.props.form.validateFields("",function(e,t){e||(t.password=(0,w.Encrypt)(t.tel,t.password),a.register(t)),setTimeout(function(){a.ajaxFlag=!0},500)}))},a.register=function(e){var t=(0,n.default)({registerType:"psd",userType:a.state.userType},e),l=a.props,r=l.wechat_userinfo,s=l.weibo_userinfo,i=l.qq_userinfo;r&&(t.registerType="wechat",t.wechat_openid=r.openid,t.gender=r.gender,t.userpic=r.profile_image_url),s&&(t.registerType="weibo",t.weibo_uid=s.uid,t.gender=s.sex,t.userpic=s.headimgurl),i&&(t.registerType="qq",t.qq_openid=i.openid,t.gender=i.gender,t.userpic=i.figureurl_2),a.props.dispatch({type:"global/register",payload:t,callback:function(e){1===e.status?a.props.callback():e.status>1e4?a.setInputError(e.status,e.msg):u.default.error({message:"\u6ce8\u518c\u5931\u8d25",description:e.msg})}})},a.setInputError=function(e,t){var l;switch(e){case 20001:l="tel";break;case 20002:l="password";break;case 20003:l="nickname";break;case 20004:l="smscode";break;default:break}a.props.form.setFields((0,s.default)({},l,{value:"",errors:[new Error(t)]}))},a.toLogin=function(){var e=a.props.showType;e?a.props.dispatch({type:"global/changeSignModal",payload:{signModalVisible:!0,signTabKey:"1"}}):a.props.dispatch(E.routerRedux.push("/user/login"))},a.ajaxFlag=!0,a.state={userType:"admin"},a}return(0,f.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props.form,t=e.getFieldDecorator,a=e.getFieldValue,l=e.getFieldsError;return b.default.createElement("div",{className:x.default.sign},b.default.createElement("div",{className:x.default.form},b.default.createElement("h4",null,b.default.createElement("p",null,"\u5feb\u901f\u6ce8\u518c"),b.default.createElement("hr",null)),b.default.createElement(v.default,{onSubmit:this.submit,className:x.default.register},b.default.createElement(j,null,t("tel",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7"}]})(b.default.createElement(F.default,{callback:this.mobileCallback}))),b.default.createElement(j,null,t("nickname",{initialValue:this.props.nickname||"",validateFirst:!0,validateTrigger:"onBlur",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6635\u79f0"},{pattern:/^[\u4E00-\u9FA5a-zA-Z0-9_]{2,10}$/,message:"\u53ea\u80fd\u8f93\u5165\u6c49\u5b50\u3001\u5b57\u6bcd\u3001\u6570\u5b57\u3001\u4e0b\u5212\u7ebf\uff0c2-10\u4f4d"}]})(b.default.createElement(C.default,{defaultVaule:this.props.nickname,placeholder:"\u6635\u79f0",callback:this.nicknameCallback}))),b.default.createElement(j,null,t("password",{validateFirst:!0,validateTrigger:"onBlur",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801"},{pattern:/^[A-Za-z0-9]{6,20}/,message:"\u53ea\u80fd\u8f93\u51656\u523020\u4f4d\u5230\u5b57\u6bcd\u6216\u6570\u5b57\u7ec4\u5408"}]})(b.default.createElement(_.default,{showPsdLevel:!0,callback:this.passwordCallback}))),b.default.createElement(j,null,t("smscode",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801"}]})(b.default.createElement(M.default,{tel:(0,y.hasErrors)(l(["tel"]))?"":a("tel"),callback:this.smscodeCallback}))),b.default.createElement(j,{style:{height:"40px"}},t("xieyi",{valuePropName:"checked",initialValue:!0})(b.default.createElement(T.default,{callback:this.xieyiCallback}))),b.default.createElement(r.default,{size:"large",type:"primary",htmlType:"submit",className:x.default.btn,style:{marginBottom:"10px"},disabled:!a("xieyi")},"\u6ce8\u518c"),b.default.createElement("p",null,"\u5df2\u6709\u8d26\u53f7\uff1f\u8fd4\u56de ",b.default.createElement("a",{onClick:this.toLogin,className:x.default.blue},"\u767b\u5f55")))))}}]),t}(b.default.Component),g=h))||g)||g);t.default=N},cq3J:function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("14J3");var r=l(a("BMrR"));a("jCWc");var s,u,n,i=l(a("kPKH")),o=l(a("2Taf")),d=l(a("vZ4D")),c=l(a("l4Ni")),f=l(a("ujKo")),p=l(a("MhPg")),m=l(a("q1tI")),g=a("MuoO"),h=a("7DNP"),v=l(a("QftO")),b=(s=(0,g.connect)(function(e){return{global:e.global}}),s((n=function(e){function t(e){var a;return(0,o.default)(this,t),a=(0,c.default)(this,(0,f.default)(t).call(this,e)),a.registerCallback=function(){a.props.dispatch(h.routerRedux.push("/"))},a.ajaxFlag=!0,a.state={},a}return(0,p.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e={width:"430px",margin:"25px auto 0",padding:"30px",background:"#fff",borderRadius:"8px"};return m.default.createElement("div",null,m.default.createElement(r.default,null,m.default.createElement(i.default,{xs:0,sm:0,md:4,lg:6}),m.default.createElement(i.default,{xs:24,sm:24,md:16,lg:12},m.default.createElement("div",{style:e},m.default.createElement(v.default,{callback:this.registerCallback}))),m.default.createElement(i.default,{xs:0,sm:0,md:4,lg:6})))}}]),t}(m.default.Component),u=n))||u);t.default=b},eNSh:function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("sRBo");var r=l(a("kaz8")),s=l(a("2Taf")),u=l(a("vZ4D")),n=l(a("l4Ni")),i=l(a("ujKo")),o=l(a("MhPg")),d=l(a("q1tI")),c=a("GF0S"),f=function(e){function t(e){var a;return(0,s.default)(this,t),a=(0,n.default)(this,(0,i.default)(t).call(this,e)),a.xieyiChecked=function(){var e=!a.state.checked;a.setState({checked:e}),a.props.callback(e)},a.showXieyi=function(){(0,c.ArticleAlert)({title:a.state.title,msg:"<p>\u8ff7\u56fe\u7f51\u7528\u6237\u6ce8\u518c\u534f\u8bae</p>",btns:["\u786e\u5b9a"],callback:function(e){}})},a.ajaxFlag=!0,a.state={title:"\u8ff7\u56fe\u7f51\u7528\u6237\u6ce8\u518c\u534f\u8bae",checked:!0},a}return(0,o.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.state,t=e.title,a=e.checked;return d.default.createElement("span",null,d.default.createElement(r.default,{checked:a,onChange:this.xieyiChecked},"\u5df2\u9605\u8bfb\u5e76\u540c\u610f"),d.default.createElement("a",{onClick:this.showXieyi},"\u300a",t,"\u300b"))}}]),t}(d.default.Component);t.default=f},kMXv:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Encrypt=u,t.Decrypt=n;var l=a("NFKh"),r="www.metuwang.com",s="1269571569321021";function u(e,t){var a=(e+r).substring(0,16),u=l.enc.Utf8.parse(a),n=l.enc.Utf8.parse(s),i=l.AES.encrypt(t.toString(),u,{iv:n,mode:l.mode.CBC,padding:l.pad.Pkcs7});return i.ciphertext.toString()}function n(e,t){var a=(e+r).substring(0,16),u=l.enc.Utf8.parse(a),n=l.enc.Utf8.parse(s),i=l.enc.Hex.parse(t),o=l.enc.Base64.stringify(i),d=l.AES.decrypt(o,u,{iv:n,mode:l.mode.CBC,padding:l.pad.Pkcs7});return d.toString(l.enc.Utf8)}},lDmw:function(e,t,a){"use strict";var l=a("g09b");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("5NDa");var r=l(a("5rEg")),s=l(a("2Taf")),u=l(a("vZ4D")),n=l(a("l4Ni")),i=l(a("ujKo")),o=l(a("MhPg")),d=l(a("q1tI")),c=function(e){function t(e){var a;return(0,s.default)(this,t),a=(0,n.default)(this,(0,i.default)(t).call(this,e)),a.changeValue=function(e){var t=e.target.value;a.setState({value:t}),a.props.callback(t)},a.ajaxFlag=!0,a.state={value:""},a}return(0,o.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){this.setState({value:this.props.defaultVaule})}},{key:"render",value:function(){var e=this.state.value,t=this.props.maxLength;return d.default.createElement(r.default,{size:"large",autoComplete:"off",placeholder:this.props.placeholder,onChange:this.changeValue,value:e,maxLength:t,disabled:this.props.disabled,allowClear:!0})}}]),t}(d.default.Component);t.default=c}}]);